<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mini Auction Hub</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <!-- Header -->
    <header class="main-header">
      <div class="header-content">
        <h1>Mini Auction Hub</h1>
        <nav class="main-nav">
          <ul>
            <li><a href="#overview">Auctions</a></li>
            <li><a href="#bidding">Place Bid</a></li>
            <li><a href="#history">Bid History</a></li>
            <li id="auth-nav">
              <a href="login.html" class="btn-login">Login</a>
              <a href="register.html" class="btn-register">Register</a>
            </li>
          </ul>
        </nav>
      </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Loading State -->
      <div id="loading" class="loading-state">
        <div class="loading-spinner"></div>
        <p>Loading auctions...</p>
      </div>

      <!-- Auction Overview Section -->
      <section id="overview" class="auctions-section">
        <div class="section-header">
          <h2>Live Auctions</h2>
          <p>Discover unique collectibles and place your bids</p>
        </div>

        <!-- Auctions Grid (API-loaded auctions) -->
        <div
          id="auctions-grid"
          class="auctions-grid"
          style="
            display: flex;
            gap: 18px;
            flex-wrap: wrap;
            justify-content: center;
          "
        ></div>

        <!-- Hardcoded fallback auctions -->
        <div
          id="default-auctions"
          class="auctions-grid"
          style="
            display: none;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
          "
        >
          <div class="auction-item">
            <img
              src="images/watch.jpg"
              alt="Vintage Watch"
              class="auction-image"
            />
            <h4>Vintage Collectorâ€™s Watch (1953)</h4>
            <p>
              <strong>Starting Price:</strong> $80 |
              <strong>Current Bid:</strong> $120
            </p>
          </div>
          <div class="auction-item">
            <img
              src="images/watch2.avif"
              alt="Luxury Wristwatch"
              class="auction-image"
            />
            <h4>Luxury Wristwatch (2020)</h4>
            <p>
              <strong>Starting Price:</strong> $150 |
              <strong>Current Bid:</strong> $200
            </p>
          </div>
          <div class="auction-item">
            <img
              src="images/watch3.jpeg"
              alt="Classic Gold Watch"
              class="auction-image"
            />
            <h4>Classic Gold Watch (1985)</h4>
            <p>
              <strong>Starting Price:</strong> $200 |
              <strong>Current Bid:</strong> $250
            </p>
          </div>
        </div>
      </section>

      <!-- Bidding Section -->
      <section id="bidding" class="bidding-section">
        <div class="section-header">
          <h2>Place Your Bid</h2>
          <p>Join the excitement and place your bid on your favorite items</p>
        </div>

        <div class="bidding-container">
          <div id="bid-login-prompt" class="login-prompt">
            <h3>Login Required</h3>
            <p>
              Please <a href="login.html">login</a> or
              <a href="register.html">register</a> to place bids.
            </p>
          </div>

          <div
            id="bid-form-container"
            class="bid-form-container"
            style="display: none"
          >
            <form id="bidForm" class="bid-form">
              <div class="form-group">
                <label for="selected-item">Select Item:</label>
                <select id="selected-item" required>
                  <option value="">Choose an auction item...</option>
                </select>
              </div>

              <div class="form-group">
                <label for="bid-amount">Your Bid Amount ($):</label>
                <input
                  type="number"
                  id="bid-amount"
                  min="1"
                  step="0.01"
                  placeholder="Enter bid amount"
                  required
                />
                <small id="bid-minimum" class="form-help"
                  >Minimum bid: $0</small
                >
              </div>

              <div class="form-group">
                <label>Auction Progress:</label>
                <div class="progress-container">
                  <progress id="bid-progress" value="70" max="100"></progress>
                  <span id="progress-text">70% complete</span>
                </div>
              </div>

              <button type="submit" class="btn-submit-bid" id="submitBidBtn">
                <span class="btn-text">Submit Bid</span>
                <span class="btn-loading" style="display: none"
                  >Submitting...</span
                >
              </button>
            </form>
          </div>
        </div>
      </section>

      <!-- Bid History Section -->
      <section id="history" class="history-section">
        <div class="section-header">
          <h2>Bid History</h2>
          <p>Recent bidding activity across all auctions</p>
        </div>

        <div class="history-container">
          <div class="recent-bids">
            <h3>Recent Bids</h3>
            <div id="bid-history-list" class="bid-list"></div>
          </div>

          <aside class="bid-stats">
            <h4>Auction Statistics</h4>
            <div class="stats-grid">
              <div class="stat-item">
                <div class="stat-number" id="total-bids">0</div>
                <div class="stat-label">Total Bids</div>
              </div>
              <div class="stat-item">
                <div class="stat-number" id="active-auctions">0</div>
                <div class="stat-label">Active Auctions</div>
              </div>
              <div class="stat-item">
                <div class="stat-number" id="total-value">$0</div>
                <div class="stat-label">Total Value</div>
              </div>
            </div>
          </aside>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="main-footer">
      <div class="footer-content">
        <p>&copy; 2025 Mini Auction Hub | All Rights Reserved</p>
      </div>
    </footer>

    <!-- Scripts -->
    <script src="js/auth.js"></script>
    <script src="js/api.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
